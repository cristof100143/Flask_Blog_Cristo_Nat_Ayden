{% extends "layout.html" %}
{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 font-weight-bold">Bonnyrigg Community Kitchen</h1>
                <h2 class="h3 mb-4">Discover Delicious Recipes</h2>
                <p class="lead mb-4">Welcome to Bonnyrigg's culinary community. Explore authentic recipes, share your creations, and connect with fellow food enthusiasts from our vibrant neighborhood.</p>
                <div class="d-flex gap-3">
                    <a href="{{ url_for('main.recipes') }}" class="btn btn-light btn-lg">Explore Recipes</a>
                    <a href="{{ url_for('main.blog') }}" class="btn btn-outline-light btn-lg">Cooking Tips</a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="row">
                    <div class="col-4">
                        <div class="card border-0 shadow-sm">
                            <img src="https://via.placeholder.com/150x150?text=Salad" class="card-img-top" alt="Fresh salad">
                            <div class="card-body text-center">
                                <h6>Fresh salad</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card border-0 shadow-sm">
                            <img src="https://via.placeholder.com/150x150?text=Pizza" class="card-img-top" alt="Pizza">
                            <div class="card-body text-center">
                                <h6>Pizza</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card border-0 shadow-sm">
                            <img src="https://via.placeholder.com/150x150?text=Pancakes" class="card-img-top" alt="Pancakes">
                            <div class="card-body text-center">
                                <h6>Pancakes</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Staff Picks -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-4">STAFF PICKS</h2>
        <h3 class="text-center mb-5">Featured Recipes</h3>
        <div class="text-center mb-4">
            <a href="{{ url_for('main.recipes') }}" class="btn btn-primary">View All</a>
        </div>
        <div class="row">
            {% for post in posts.items[:3] %}
            <div class="col-md-4 mb-4">
                <div class="recipe-card">
                    <div class="recipe-image" style="background-image: url('{{ url_for('static', filename='recipe_images/' + post.image_file) }}');">
                        <div class="recipe-overlay">
                            <a href="{{ url_for('posts.post', post_id=post.id) }}" class="btn btn-light">View Recipe</a>
                        </div>
                    </div>
                    <div class="recipe-content">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <span class="badge badge-warning">{{ post.difficulty }}</span>
                            {% if post.author.username == 'Mr Zhukov' %}
                            <span class="badge badge-danger">üë®‚Äçüç≥ Chef's Special</span>
                            {% else %}
                            <span class="badge badge-info">‚≠ê Featured</span>
                            {% endif %}
                        </div>
                        <h5 class="recipe-title">{{ post.title }}</h5>
                        <p class="text-muted">{{ post.cuisine }}</p>
                        <div class="recipe-meta">
                            <div>
                                <span>{{ post.prep_time }} + {{ post.cook_time }}</span>
                                <span>{{ post.servings }} servings</span>
                            </div>
                            <div class="recipe-rating">
                                {% if post.average_rating > 0 %}
                                    {% for i in range(5) %}
                                        {% if i < post.average_rating %}
                                            <span class="star">‚òÖ</span>
                                        {% else %}
                                            <span class="star" style="color: #ddd;">‚òÖ</span>
                                        {% endif %}
                                    {% endfor %}
                                    <span class="ml-1">{{ post.average_rating }}</span>
                                {% endif %}
                            </div>
                        </div>
                        <div class="recipe-tags">
                            {% for tag in post.tags.split(',') %}
                                <span class="tag">{{ tag.strip() }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Latest from the Kitchen -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Latest from the Kitchen</h2>
        <p class="text-center mb-5">Fresh recipes shared by our amazing Bonnyrigg community. From traditional family favorites to modern culinary experiments.</p>
        <div class="row">
            {% for post in posts.items[3:9] %}
            <div class="col-md-4 mb-4">
                <div class="recipe-card">
                    <div class="recipe-image" style="background-image: url('{{ url_for('static', filename='recipe_images/' + post.image_file) }}');">
                        <div class="recipe-overlay">
                            <a href="{{ url_for('posts.post', post_id=post.id) }}" class="btn btn-light">View Recipe</a>
                        </div>
                    </div>
                    <div class="recipe-content">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <span class="badge badge-secondary">{{ post.difficulty }}</span>
                            {% if post.author.username == 'Mr Zhukov' %}
                            <span class="badge badge-danger">üë®‚Äçüç≥ Chef's Special</span>
                            {% elif post.average_rating >= 4 %}
                            <span class="badge badge-warning">‚≠ê Featured</span>
                            {% endif %}
                        </div>
                        <h5 class="recipe-title">{{ post.title }}</h5>
                        <p class="text-muted">{{ post.cuisine }}</p>
                        <div class="recipe-meta">
                            <div>
                                <span>{{ post.prep_time }} + {{ post.cook_time }}</span>
                                <span>{{ post.servings }} servings</span>
                            </div>
                            <div class="recipe-rating">
                                {% if post.average_rating > 0 %}
                                    {% for i in range(5) %}
                                        {% if i < post.average_rating %}
                                            <span class="star">‚òÖ</span>
                                        {% else %}
                                            <span class="star" style="color: #ddd;">‚òÖ</span>
                                        {% endif %}
                                    {% endfor %}
                                    <span class="ml-1">{{ post.average_rating }}</span>
                                {% endif %}
                            </div>
                        </div>
                        <div class="recipe-tags">
                            {% for tag in post.tags.split(',') %}
                                <span class="tag">{{ tag.strip() }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center">
            <a href="{{ url_for('main.recipes') }}" class="btn btn-primary">View All Recipes</a>
        </div>
    </div>
</section>

<!-- Cooking Tips -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-4">LEARN & GROW</h2>
        <h3 class="text-center mb-5">Cooking Tips & Advice</h3>
        <div class="text-center mb-4">
            <a href="{{ url_for('main.blog') }}" class="btn btn-primary">Read More</a>
        </div>
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <span class="badge badge-success">Easy</span>
                        <h5 class="card-title mt-2">Kitchen Knife Skills 101</h5>
                        <p class="text-muted">Other</p>
                        <p class="card-text">Master the essential cutting techniques every home cook should know - from dicing to julienne.</p>
                        <p class="text-muted">30 min | 1 serving</p>
                        <p class="text-muted">By Chef Marcus Lee</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <span class="badge badge-success">Easy</span>
                        <h5 class="card-title mt-2">Seasonal Eating: Winter Comfort Foods</h5>
                        <p class="text-muted">Other</p>
                        <p class="card-text">Embrace the cold months with warming, nourishing dishes that celebrate winter produce.</p>
                        <p class="text-muted">10 min | 1 serving</p>
                        <p class="text-muted">By Sarah Mitchell</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Community Section -->
<section class="bg-primary text-white py-5">
    <div class="container text-center">
        <h2 class="mb-4">Join Our Culinary Community</h2>
        <p class="lead mb-4">Share your recipes, connect with fellow food lovers, and discover the rich flavors of Bonnyrigg</p>
        <a href="{{ url_for('users.register') }}" class="btn btn-light btn-lg">Get Started</a>
    </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
                <h5 class="mb-3">Bonnyrigg Community Kitchen</h5>
                <p class="text-muted mb-3">A platform for food enthusiasts in Bonnyrigg to share recipes, cooking tips, and culinary experiences.</p>
                <div class="social-links mb-3">
                    <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-youtube"></i></a>
                </div>
                <p class="mb-0"><i class="fas fa-map-marker-alt me-2"></i>Bonnyrigg High School</p>
                <p class="mb-0"><i class="fas fa-envelope me-2"></i>community@bonnyrigg.kitchen</p>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h6 class="mb-3">Quick Links</h6>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="{{ url_for('main.home') }}" class="text-muted text-decoration-none">Home</a></li>
                    <li class="mb-2"><a href="{{ url_for('main.recipes') }}" class="text-muted text-decoration-none">Recipes</a></li>
                    <li class="mb-2"><a href="{{ url_for('main.blog') }}" class="text-muted text-decoration-none">Cooking Tips</a></li>
                    {% if current_user.is_authenticated and current_user.username == 'admin' %}
                    <li class="mb-2"><a href="{{ url_for('main.admin') }}" class="text-muted text-decoration-none">Admin</a></li>
                    {% endif %}
                    <li class="mb-2"><a href="{{ url_for('main.about') }}" class="text-muted text-decoration-none">About Us</a></li>
                    <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Contact</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h6 class="mb-3">Contribute</h6>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="{{ url_for('posts.new_post') }}" class="text-muted text-decoration-none">Submit Recipe</a></li>
                    <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Recipe Guidelines</a></li>
                    <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Photo Tips</a></li>
                    <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Community Rules</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h6 class="mb-3">Popular Tags</h6>
                <div class="d-flex flex-wrap">
                    <span class="badge bg-secondary me-1 mb-1">Italian</span>
                    <span class="badge bg-secondary me-1 mb-1">Quick</span>
                    <span class="badge bg-secondary me-1 mb-1">Vegan</span>
                    <span class="badge bg-secondary me-1 mb-1">Dessert</span>
                    <span class="badge bg-secondary me-1 mb-1">Asian</span>
                    <span class="badge bg-secondary me-1 mb-1">Budget</span>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <h6 class="mb-3">Stay Connected</h6>
                <p class="text-muted small mb-3">Get weekly recipe inspiration and cooking tips delivered to your inbox.</p>
                <div class="input-group mb-3">
                    <input type="email" class="form-control form-control-sm" placeholder="Your email" aria-label="Email">
                    <button class="btn btn-primary btn-sm" type="button">Subscribe</button>
                </div>
                <p class="text-muted small mb-0">Join 500+ home chefs in our community!</p>
            </div>
        </div>
        <hr class="my-4">
        <div class="row align-items-center">
            <div class="col-md-6">
                <p class="mb-0 text-muted">&copy; 2026 Bonnyrigg High School Cooking Blog. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <a href="#" class="text-muted text-decoration-none me-3">Privacy Policy</a>
                <a href="#" class="text-muted text-decoration-none me-3">Terms of Service</a>
                <a href="#" class="text-muted text-decoration-none">Cookie Policy</a>
            </div>
        </div>
    </div>
</footer>
{% endblock content %}
